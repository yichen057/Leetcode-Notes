# LeetCode Day 2ç¬”è®°ï¼šæ»‘åŠ¨çª—å£-209 / èºæ—‹çŸ©é˜µ-59
_æœ€åæ›´æ–°ï¼š2025-09-20_

---

## 209. Minimum Size Subarray Sumï¼ˆé•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼‰

é¢˜æ„ï¼šç»™å®šæ­£æ•´æ•°æ•°ç»„ `nums` å’Œç›®æ ‡å€¼ `target`ï¼Œæ‰¾åˆ°å’Œ â‰¥ target çš„æœ€çŸ­è¿ç»­å­æ•°ç»„é•¿åº¦ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å› 0ã€‚

### æ€è·¯ï¼ˆæ»‘åŠ¨çª—å£ï¼‰

- å› ä¸ºæ•°ç»„å…ƒç´ éƒ½æ˜¯æ­£æ•°ï¼Œæ‰€ä»¥çª—å£å’Œå…·æœ‰ **å•è°ƒæ€§**ï¼š
  - çª—å£å³è¾¹ç•Œæ‰©å¼  â†’ çª—å£å’Œåªä¼šå¢åŠ ï¼›
  - çª—å£å·¦è¾¹ç•Œæ”¶ç¼© â†’ çª—å£å’Œåªä¼šå‡å°‘ã€‚
- è¿™ç§å•è°ƒæ€§ä¿è¯äº†æ»‘åŠ¨çª—å£èƒ½åœ¨çº¿æ€§æ—¶é—´å†…æ‰¾åˆ°æœ€ä¼˜è§£ã€‚

æ ¸å¿ƒæµç¨‹ï¼š

1. å®šä¹‰å·¦å³æŒ‡é’ˆ `left=0`ï¼Œ`right` é€šè¿‡å¾ªç¯ä¾æ¬¡æ‰«ææ•°ç»„ã€‚
2. çª—å£å’Œ `window_sum` éšç€ `nums[right]` åŠ å…¥è€Œå¢å¤§ã€‚
3. å½“ `window_sum >= target` æ—¶ï¼Œè¯´æ˜çª—å£æ»¡è¶³æ¡ä»¶ â†’ æ›´æ–°æœ€å°é•¿åº¦ã€‚
4. ç„¶åå°½é‡æ”¶ç¼© `left`ï¼Œç›´åˆ°ä¸å†æ»¡è¶³æ¡ä»¶ã€‚
5. æœ€ç»ˆå¾—åˆ°æœ€å°é•¿åº¦ã€‚

- ç”¨ä¸¤ä¸ªæŒ‡é’ˆ `left`ã€`right` è¡¨ç¤ºçª—å£åŒºé—´ã€‚å¸¸ç”¨ **å·¦é—­å³å¼€ [left, right)** è¡¨è¾¾ï¼Œè¿™æ ·çª—å£é•¿åº¦ = `right - left`ã€‚
- å³æŒ‡é’ˆæ‰©å¼ æ—¶ç´¯åŠ çª—å£å’Œï¼›å½“å’Œ â‰¥ target æ—¶ï¼Œæ›´æ–°ç­”æ¡ˆï¼Œå¹¶æ”¶ç¼©å·¦æŒ‡é’ˆã€‚

### æ ¸å¿ƒä»£ç 
```python
from typing import List

class Solution:
    def minSubArrayLen(self, target: int, nums: List[int]) -> int:
        left, right = 0, 0
        window_sum = 0
        result = float('inf')
        for right in range(len(nums)):#æ­¤æ—¶æ¢æˆå·¦é—­å³é—­åŒºé—´, ç”¨forå¾ªç¯rightå°±æ˜¯çª—å£é‡Œæœ€åä¸€ä¸ªå…ƒç´ , ä¸ç”¨æ‰‹åŠ¨right+=1
            window_sum += nums[right]
        # while right < len(nums):
        #     # å¢å¤§çª—å£,æ‰©å¼ å³è¾¹ç•Œ, ä½¿å’Œè¾¾åˆ°æˆ–è€…è¶…è¿‡target
        #     window_sum += nums[right] # æ­¤æ—¶æ˜¯rightæœªçŸ¥çš„å…ƒç´ è¢«åŠ å…¥
        #     right += 1
            # æ­¤æ—¶ç”±äºright+=1, çª—å£åŒºé—´å˜æˆ[left, right)å³å¼€, right-1ä½ç½®çš„å…ƒç´ åˆšè¢«åŠ å…¥
            while window_sum >= target:
                # ç¼©å°çª—å£, æ”¶ç¼©å·¦è¾¹ç•Œ, å°è¯•å¾—åˆ°æœ€çŸ­é•¿åº¦
                # å…ˆè®¡ç®—é•¿åº¦ï¼Œå†æ”¶ç¼©å·¦è¾¹ç•Œã€‚çª—å£æ»¡è¶³æ¡ä»¶æ—¶ï¼Œåº”è¯¥ç«‹å³è®°å½•ä¸‹æ­¤æ—¶çš„é•¿åº¦ï¼ˆå› ä¸ºå®ƒå¯èƒ½æ˜¯æœ€ä¼˜çš„ï¼‰ã€‚ç„¶åå†å°è¯•æ”¶ç¼©ï¼Œçœ‹èƒ½ä¸èƒ½ç¼©å¾—æ›´çŸ­ï¼ŒåŒæ—¶ä»æ»¡è¶³æ¡ä»¶ã€‚å¦‚æœæ”¶ç¼©ä¹‹åä¸æ»¡è¶³æ¡ä»¶ï¼Œå°±ä¼šé€€å‡ºå†…å±‚ whileï¼Œç­‰å³è¾¹å†æ‰©å¼ ã€‚
                subLength = right - left +1 # å·¦é—­å³é—­åŒºé—´çš„é•¿åº¦æ˜¯right-left+1
                # subLength = right - left #æ»‘åŠ¨çª—å£çš„é•¿åº¦, [left, right)çš„é•¿åº¦æ˜¯right-left, [left, right]çš„é•¿åº¦æ˜¯right-left+1
                result = min(subLength, result)
                window_sum = window_sum - nums[left]
                left += 1
        return 0 if result == float('inf') else result #å¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œé¢˜ç›®è¦æ±‚è¿”å› 0, è€Œä¸æ˜¯è¿”å› infã€‚

```

### æ˜“é”™ç‚¹æ€»ç»“
1. **æ€»ç»“æ—‹è½¬è§„å¾‹**

   - **ä¸Šè¾¹**ï¼šå·¦å³è§’éƒ½å†™
   - **å³è¾¹**ï¼šè·³è¿‡å³ä¸Šè§’ â†’ èµ·ç‚¹æ˜¯ `top+1`
   - **ä¸‹è¾¹**ï¼šå·¦å³è§’éƒ½å†™ï¼ˆå› ä¸ºå³ä¸‹è§’å·²ç»é¿å¼€äº†ï¼‰
   - **å·¦è¾¹**ï¼šè·³è¿‡å·¦ä¸Šè§’ â†’ ç»ˆç‚¹æ˜¯ `top+1`

   æ¢å¥è¯è¯´ï¼š
   ğŸ‘‰ æ¯ä¸ªè§’ **åªå±äºä¸€æ¡è¾¹**ï¼Œä¸èƒ½é‡å¤ã€‚

   - ä¸Šè¾¹è´Ÿè´£å·¦ä¸Šè§’ & å³ä¸Šè§’
   - å³è¾¹è´Ÿè´£å³ä¸‹è§’ï¼ˆä½†é¿å¼€å³ä¸Šè§’ï¼‰
   - ä¸‹è¾¹è´Ÿè´£å·¦ä¸‹è§’ï¼ˆä½†é¿å¼€å³ä¸‹è§’ï¼‰
   - å·¦è¾¹å•¥éƒ½å†™ä¸åˆ°è§’ï¼ˆå› ä¸ºå·¦ä¸Šè§’ã€å·¦ä¸‹è§’éƒ½è¢«å‰é¢è¦†ç›–äº†ï¼‰

2. **çª—å£åŒºé—´è¡¨ç¤º**  

   - [left, right): é•¿åº¦ = right-left  
   - [left, right]: é•¿åº¦ = right-left+1  
   - æœ¬é¢˜å› ä¸º `for right in range(n)` â†’ right æ¯æ¬¡å°±æ˜¯çª—å£ä¸­çœŸå®çš„æœ€åä¸€ä¸ªä¸‹æ ‡ï¼Œæ‰€ä»¥æ˜¯é—­åŒºé—´ `[left, right]`ã€‚

3. **å·¦è¾¹ for å¾ªç¯çš„ç»ˆç‚¹å†™çš„æ˜¯ `top-1`ï¼Œä½†å› ä¸ºä¹‹å‰ `top+=1`ï¼Œå®ƒå®é™…èƒ½èµ°åˆ°çš„ä½ç½®å°±æ˜¯åŸå§‹çš„ `top+1`**ï¼Œæ­£å¥½é¿å¼€äº†å·¦ä¸Šè§’ã€‚

4. **ä¸é‡**ï¼šæ¯ç”»å®Œä¸€æ¡è¾¹å°±æ”¶ç¼©å¯¹åº”è¾¹ç•Œï¼ˆä¸Šâ†’`top+1`ã€å³â†’`right-1`ã€ä¸‹â†’`bottom-1`ã€å·¦â†’`left+1`ï¼‰ï¼Œä¸‹ä¸€æ¡è¾¹å³ä½¿â€œåŒ…å«åˆ°ç«¯ç‚¹â€ï¼Œä¹‹å‰é‚£æ¡è¾¹æ‰€åœ¨çš„è¡Œ/åˆ—å·²è¢«è¾¹ç•Œæ’é™¤ï¼Œè‡ªç„¶ä¸ä¼šé‡å¤åˆ°æ‹è§’ã€‚

   **ä¸æ¼**ï¼šæ¯æ¡è¾¹ç”¨â€œåŒ…å«ç«¯ç‚¹â€çš„åŒºé—´ï¼ˆå¦‚ `right+1`ã€`top-1`ï¼‰ï¼Œé…åˆè¾¹ç•Œæ”¶ç¼©ï¼Œåˆšå¥½è¦†ç›–æ•´åœˆã€‚

   **å¥‡æ•° n**ï¼šæœ€ååªå‰©ä¸­å¿ƒä¸€ä¸ªæ ¼å­ï¼Œä»ç”±ä¸Šè¾¹/å³è¾¹çš„æµç¨‹è‡ªç„¶è¦†ç›–ï¼Œæ— éœ€ç‰¹åˆ¤ã€‚

5. **å…ˆæ›´æ–°ç»“æœå†æ”¶ç¼©**  

   - è‹¥å…ˆæ”¶ç¼©å†è®¡ç®—ï¼Œå¯èƒ½æ¼æ‰æœ€ä¼˜è§£ã€‚  

6. **è¿”å› 0**  
   - å¦‚æœ res æœªæ›´æ–°ï¼ˆä»æ˜¯ infï¼‰ï¼Œè¯´æ˜ä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œåº”è¿”å› 0ã€‚

7. **ä¸è¦é®è”½ Python å†…ç½®å‡½æ•° `sum`**

   - ç”¨ `window_sum` å‘½åï¼Œè€Œä¸è¦ç›´æ¥å†™ `sum`ï¼Œé¿å…è¦†ç›–å†…ç½®å‡½æ•°ã€‚

5. **æ—¶é—´å¤æ‚åº¦ O(n)**
   - æ¯ä¸ªå…ƒç´ æœ€å¤šè¿›çª—å£ä¸€æ¬¡ã€å‡ºçª—å£ä¸€æ¬¡ï¼Œæ‰€ä»¥æ•´ä½“æ˜¯çº¿æ€§æ—¶é—´ã€‚

---

## 59. Spiral Matrix IIï¼ˆèºæ—‹çŸ©é˜µ IIï¼‰

é¢˜æ„ï¼šç”Ÿæˆ nÃ—n çš„çŸ©é˜µï¼Œå¡«å…¥ 1 åˆ° nÂ²ï¼Œé¡ºæ—¶é’ˆèºæ—‹æ’åˆ—ã€‚

### æ€è·¯ä¸€ï¼šè¾¹ç•Œæ³•ï¼ˆç›´è§‚, ä½†å®¹æ˜“å†™é”™ï¼‰
ç»´æŠ¤å››ä¸ªè¾¹ç•Œï¼š`top, bottom, left, right`ã€‚æ¯æ¬¡æŒ‰é¡ºåºå†™å››æ¡è¾¹ï¼Œç„¶åæ”¶ç¼©è¾¹ç•Œã€‚

```python
from typing import List

class Solution:
    def generateMatrix(self, n: int) -> List[List[int]]:
        
      # æ–¹æ³•ä¸€: å®šä¹‰å››ä¸ªè¾¹ç•Œæ³•
        a = [[0] * n for _ in range(n)] # åˆå§‹åŒ– nÃ—n çŸ©é˜µï¼Œå…¨ 0
        top, bottom = 0, n - 1 # å®šä¹‰ä¸Šä¸‹è¾¹ç•Œ
        left, right = 0, n - 1 # å®šä¹‰å·¦å³è¾¹ç•Œ
        x = 1 # å°†è¦å†™å…¥çš„æ•°å­—ï¼Œä» 1 åˆ° n^2

        while left <= right and top <= bottom:
            # 1. ä¸Šè¾¹: ä»å·¦åˆ°å³å¡«æ»¡left -> right
            for i in range(left, right + 1): # jå–å€¼èŒƒå›´[left, right]
                a[top][i] = x  # æŠŠxå†™åˆ°(top,j)
                x += 1 # æ•°å­—+1
            top += 1   # ä¸Šè¾¹ç•Œä¸‹ç§»ä¸€è¡Œ

            # 2. å³è¾¹: ä»ä¸Štop+1åˆ°ä¸‹å¡«bottom: top -> bottom
            for i in range(top, bottom + 1): # iå–å€¼èŒƒå›´[top+1, bottom](topæ˜¯åœ¨å‰é¢å·²ä¸‹ç§»çš„)
                a[i][right] = x # æŠŠxå†™åˆ°(i, right)
                x += 1
            right -= 1 # å³è¾¹ç•Œå·¦ç§»ä¸€åˆ—

            # 3. ä¸‹è¾¹: ä»å³right-1åˆ°å·¦å¡«left: right -> left
            if top <= bottom: # ç”»ä¸‹è¾¹å‰ï¼šç¡®ä¿è¿˜æœ‰â€œå¯ç”»çš„è¡Œâ€, é¿å…æœ€åä¸€åœˆé‡å¤æŸæ¡è¾¹æˆ–è®¿é—®è¶Šç•Œã€‚
                for i in range(right, left -1, -1): # jå–å€¼èŒƒå›´[right-1, left]
                    a[bottom][i] = x
                    x += 1
                bottom -= 1 #ä¸‹è¾¹ç•Œä¸Šç§»ä¸€åˆ—

            # 4. å·¦è¾¹: ä»ä¸‹bottom-1åˆ°ä¸Šå¡«top+1: bottom -> top
            if left <= right: # ç”»å·¦è¾¹å‰ï¼šç¡®ä¿è¿˜æœ‰â€œå¯ç”»çš„åˆ—â€, é¿å…æœ€åä¸€åœˆé‡å¤æŸæ¡è¾¹æˆ–è®¿é—®è¶Šç•Œã€‚
                for i in range(bottom, top-1, -1): # iå–å€¼èŒƒå›´[bottom-1, top+1], 
                    # bottom: bottom-1æ˜¯ä¸Šä¸€è½®å‡è¿‡çš„, æ‰€ä»¥æœ¬è½®ä¸ç”¨å‡1
                    # top-1: ç”±äºä¹‹å‰åœ¨ä¸Šè¾¹æ—¶å·²å°†topå¤„ç†æˆtop+1, æ‰€ä»¥topè¿™é‡Œèƒ½å–åˆ°çš„å€¼æ˜¯top-1+1=top, å®é™…æ˜¯åŸå§‹çš„top+1, æ­£å¥½é¿å¼€å·¦ä¸Šè§’
                    a[i][left] = x
                    x += 1
                left += 1 # å·¦è¾¹ç•Œå³ç§»ä¸€åˆ—

        return a
        # å¥‡æ•° nï¼šæœ€ååªå‰©ä¸­å¿ƒä¸€ä¸ªæ ¼å­ï¼Œä»ç”±ä¸Šè¾¹/å³è¾¹çš„æµç¨‹è‡ªç„¶è¦†ç›–ï¼Œæ— éœ€ç‰¹åˆ¤ã€‚
        
```

- æ¯æ¡è¾¹éƒ½â€œåŒ…å«ç«¯ç‚¹â€ï¼Œä¸é‡å¤æ˜¯é è¾¹ç•Œæ”¶ç¼©ä¿è¯çš„ã€‚  
- å…³é”®ï¼šä¸‹è¾¹ã€å·¦è¾¹å‰è¦æ£€æŸ¥æ˜¯å¦ä»æœ‰è¡Œ/åˆ—å¯ç”»ï¼Œå¦åˆ™ä¼šé‡å¤æˆ–è¶Šç•Œã€‚

### æ€è·¯äºŒï¼šoffset æ³•ï¼ˆæ•°å­¦åŒ–, æ¨èï¼‰
æŒ‰â€œåœˆæ•° loop = n//2â€æ¥å¡«ã€‚æ¯æ¬¡åœˆèµ·ç‚¹æ˜¯ `(startx, starty)`ï¼Œç»ˆç‚¹ä¾é  `offset` æ§åˆ¶ã€‚å¥‡æ•°æ—¶é¢å¤–å¡«ä¸­å¿ƒ `(mid, mid)`ã€‚

### å¥‡å¶æƒ…å†µ
- **n ä¸ºå¶æ•°**ï¼šå®Œæ•´ loop åœˆæ•°åï¼ŒçŸ©é˜µå¡«æ»¡ï¼Œä¸å‰©ä¸­å¿ƒã€‚  
- **n ä¸ºå¥‡æ•°**ï¼šå®Œæ•´ loop åœˆæ•°åï¼Œå‰©ä¸‹ä¸­å¿ƒä¸€ä¸ªæ ¼å­ï¼Œéœ€è¦å•ç‹¬å†™ã€‚

### **æ€»ç»“æ—‹è½¬è§„å¾‹**

- **æ¯æ¡è¾¹**ï¼šåŒ…å«é¡¶ç‚¹åˆ°æœ«å°¾å€’æ•°ç¬¬äºŒä¸ªç»ˆç‚¹, ä¸å«æœ¬è¾¹çš„æœ«å°¾ç»ˆç‚¹

### æ˜“é”™ç‚¹æ€»ç»“
1. **åœˆæ•° loop = n//2**  
   - æ¯ä¸€åœˆæ¶ˆè€— 2 è¡Œ 2 åˆ—ï¼Œå‰©ä½™åˆ¤æ–­é  n çš„å¥‡å¶ã€‚  
2. **é¿å…é‡å¤å†™æ‹è§’**  
   - ä¸Šè¾¹ä¸å«å³ä¸Šè§’ï¼Œç•™ç»™å³è¾¹ï¼›å³è¾¹ä¸å«å³ä¸‹è§’ï¼Œç•™ç»™ä¸‹è¾¹ï¼›ä¾æ¬¡ç±»æ¨ã€‚  
3. **å¥‡å¶ä¸­å¿ƒç‚¹**  
   - n ä¸ºå¥‡æ•°æ—¶ï¼Œä¸­å¿ƒç‚¹ `(mid, mid)` è¦å•ç‹¬å†™ï¼›n ä¸ºå¶æ•°æ—¶ä¸éœ€è¦ã€‚

é€ä¸ªè®²è§£è¿™ 3 ä¸ªç‚¹: 

------

## 1) ä¸ºä»€ä¹ˆ `loop = n // 2`ï¼Ÿ

ä¸€åœˆä¼šâ€œåƒæ‰â€**ä¸¤è¡Œä¸¤åˆ—**ï¼ˆæœ€å¤–é¢ä¸€åœˆï¼šé¡¶è¡Œ+åº•è¡Œã€å·¦åˆ—+å³åˆ—ï¼‰ã€‚

- è‹¥ `n = 2k`ï¼ˆå¶æ•°ï¼‰ï¼Œå®Œæ•´åœˆæ•°å°±æ˜¯ `k = n/2`ï¼Œç”»å®Œ k åœˆå°±æ­£å¥½å¡«æ»¡ï¼Œæ²¡æœ‰å‰©ä½™ã€‚
- è‹¥ `n = 2k+1`ï¼ˆå¥‡æ•°ï¼‰ï¼Œå®Œæ•´åœˆæ•°ä»æ˜¯ `k = âŒŠn/2âŒ‹`ï¼Œç”»å®Œ k åœˆåè¿˜ä¼š**å‰©ä¸€ä¸ªä¸­å¿ƒæ ¼å­**æ²¡å¡«ï¼ˆåæ ‡ä¸‹é¢ç¬¬ 3 ç‚¹è®²ï¼‰ã€‚
  æ‰€ä»¥å®Œæ•´åœˆæ•°ç»Ÿä¸€å°±æ˜¯ `n // 2`ã€‚

------

## 2) å³è¾¹ä»ä¸Šåˆ°ä¸‹çš„åˆ—ä¸ºä»€ä¹ˆæ˜¯ `n - offset`ï¼Ÿä¸ºä»€ä¹ˆä¸æ˜¯ `n`ï¼Ÿ

å…³é”®æ˜¯**0 åŸºç´¢å¼•**å’Œ**é¿å…é‡å¤å†™æ‹è§’**ï¼š

- ç¬¬ `offset` åœˆçš„**å³è¾¹ç•Œåˆ—ç´¢å¼•**å°±æ˜¯ `right = n - offset`ï¼ˆä¾‹å¦‚ `n=5, offset=1` æ—¶å³è¾¹ç•Œæ˜¯ç¬¬ 4 åˆ—ï¼Œç´¢å¼• 4ï¼‰ã€‚

- ç”»**ä¸Šè¾¹**æ—¶ç”¨ï¼š

  ```python
  for i in range(starty, n - offset):
      nums[startx][i] = count
  ```

  è¿™é‡Œçš„ `range(starty, n - offset)` æ˜¯**å·¦é—­å³å¼€**ï¼Œæœ€ç»ˆ `i` ä¼šå–åˆ° `â€¦ , right-1`ï¼Œ**ä¸å«**å³ä¸Šè§’ `(startx, right)`ã€‚
  è¿™æ ·åšæ˜¯ä¸ºäº†æŠŠ**å³ä¸Šè§’ç•™ç»™â€œå³è¾¹â€é‚£æ¡è¾¹**å»å†™ï¼Œé¿å…é‡å¤æ‹è§’ã€‚

- ç”»**å³è¾¹**æ—¶å›ºå®šåˆ— `right = n - offset`ï¼Œè¡Œä» `startx` å¾€ä¸‹åˆ° `n - offset - 1`ï¼ˆåŒç†ï¼Œ**ä¸å«**å³ä¸‹è§’ï¼Œè®©â€œä¸‹è¾¹â€å»å†™ï¼‰ã€‚

  ```python
  for i in range(startx, n - offset):
      nums[i][right] = count
  ```

å¦‚æœæŠŠâ€œä¸Šè¾¹â€çš„ç»ˆç‚¹å†™æˆ `n`ï¼Œé‚£ä¸Šè¾¹å°±ä¼šè¦†ç›–åˆ° `(startx, right)` è¿™ä¸ªæ‹è§’ï¼›éšåâ€œå³è¾¹â€å†å†™è¿™ä¸ªæ‹è§’å°±**é‡å¤äº†**ã€‚
æ‰€ä»¥ï¼š

- ä¸Šè¾¹ï¼šç»ˆç‚¹ç”¨ `n - offset`ï¼ˆå³å¼€ï¼‰ï¼Œä¸å«å³ä¸Šè§’
- å³è¾¹ï¼šå›ºå®šåˆ— `n - offset`ï¼Œä¸å«å³ä¸‹è§’
- ä¸‹è¾¹ã€å·¦è¾¹ä¹Ÿåˆ†åˆ«ç”¨å¯¹ç§°çš„â€œå³å¼€â€å†™æ³•ï¼Œé¿å…å››ä¸ªè§’é‡å¤ã€‚

> å°ä¾‹ï¼š`n=5, offset=1`
>
> - å³è¾¹ç•Œåˆ— = `n - offset = 4`
> - ä¸Šè¾¹ `range(0, 4)` â†’ å¡«åˆ— 0,1,2,3ï¼›**4 ç•™ç»™å³è¾¹**
> - å³è¾¹å›ºå®šåˆ— 4ï¼Œè¡Œ `range(0, 4)` â†’ å¡« 0,1,2,3ï¼›**è¡Œ 4 ç•™ç»™ä¸‹è¾¹**
> - ä¸‹è¾¹ `range(4, 0, -1)` â†’ å¡«åˆ— 4,3,2,1ï¼›**åˆ— 0 ç•™ç»™å·¦è¾¹**
> - å·¦è¾¹ `range(4, 0, -1)` â†’ å¡«è¡Œ 4,3,2,1ï¼›**è¡Œ 0 å·²è¢«ä¸Šè¾¹å†™è¿‡**
>   å¦‚æ­¤æ¯ä¸ªè§’åªè¢«å†™ä¸€æ¬¡ã€‚

------

## 3) å¥‡æ•° / å¶æ•°æ—¶çš„ä¸­å¿ƒç‚¹ä¸ºä»€ä¹ˆè¿™æ ·å¤„ç†ï¼Ÿ

- ä»¤ `mid = n // 2`ï¼ˆ0 åŸºï¼‰ã€‚

  - è‹¥ `n = 2k+1`ï¼ˆå¥‡æ•°ï¼‰ï¼Œç”»å®Œ `k` åœˆåï¼Œå‰©ä¸‹å”¯ä¸€çš„ä¸­å¿ƒæ ¼æ˜¯ `(mid, mid)`ï¼ˆä¾‹ï¼šn=5 â†’ mid=2 â†’ ä¸­å¿ƒ (2,2)ï¼‰ã€‚å› æ­¤éœ€è¦ï¼š

    ```python
    if n % 2 != 0:
        nums[mid][mid] = count
    ```

  - è‹¥ `n = 2k`ï¼ˆå¶æ•°ï¼‰ï¼Œç”»å®Œ `k` åœˆå**æ²¡æœ‰å•ç‹¬çš„ä¸­å¿ƒæ ¼**ï¼ˆä¸­å¿ƒæ˜¯ 2Ã—2 çš„äº¤ç•Œï¼Œä¸æ˜¯ä¸€ä¸ªæ ¼å­ï¼‰ï¼Œæ‰€æœ‰æ ¼å­å·²åœ¨åœˆå¾ªç¯ä¸­å¡«å®Œï¼Œæ‰€ä»¥**ä¸éœ€è¦**å†å•ç‹¬å¡«ä¸­å¿ƒã€‚

> ç›´è§‚ç†è§£ï¼š
>
> - å¶æ•°é˜¶çŸ©é˜µæ²¡æœ‰â€œå”¯ä¸€ä¸­å¿ƒç‚¹â€ï¼›
> - å¥‡æ•°é˜¶çŸ©é˜µæœ‰å”¯ä¸€ä¸­å¿ƒç‚¹ï¼Œå¤–åœˆä¸€å±‚å±‚å‰¥æ‰åå°±å‰©å®ƒä¸€ä¸ªã€‚

------

### å°ç»“ï¼ˆè®°å¿†ç‚¹ï¼‰

- **åœˆæ•°** = `n // 2`ï¼ˆä¸€åœˆåƒä¸¤è¡Œä¸¤åˆ—ï¼›å¥‡æ•°ä¼šå‰©ä¸­å¿ƒæ ¼ï¼‰ã€‚
- **å³è¾¹ç•Œåˆ—** = `n - offset`ï¼›**ä¸Šè¾¹**çš„ `range(..., n - offset)` ç”¨å³å¼€ï¼Œ**ä¸ç»™ä¸Šè¾¹å†™å³ä¸Šè§’**ï¼ŒæŠŠæ‹è§’ç•™ç»™å³è¾¹ã€‚
- **å¥‡å¶ä¸­å¿ƒ**ï¼šå¥‡æ•°å¡« `(mid, mid)`ï¼›å¶æ•°æ²¡æœ‰å•ä¸­å¿ƒæ ¼ï¼Œä¸ç”¨é¢å¤–å¤„ç†ã€‚

ä»£ç å¦‚ä¸‹

```python
class Solution:
    def generateMatrix(self, n: int) -> List[List[int]]:
# æ–¹æ³•äºŒ: åœˆæ•°å¾ªç¯ + åç§»é‡æ³•
        nums = [[0] * n for _ in range(n)] # åˆå§‹åŒ– nÃ—n çŸ©é˜µï¼Œå…¨ 0
        startx, starty = 0, 0 # èµ·å§‹ç‚¹
        loop, mid = n // 2, n // 2 # è¿­ä»£æ¬¡æ•°, nä¸ºå¥‡æ•°æ—¶, çŸ©é˜µæœ‰å”¯ä¸€ä¸­å¿ƒç‚¹(å¶æ•°é˜¶çŸ©é˜µæ²¡æœ‰â€œå”¯ä¸€ä¸­å¿ƒç‚¹)
        count = 1 # å°†è¦å†™å…¥çš„æ•°å­—ï¼Œä» 1 åˆ° n^2

        for offset in range(1, loop + 1): # æ¯è½¬ä¸€åœˆå¾ªç¯ä¸€å±‚åç§»é‡åŠ 1ï¼Œåç§»é‡ä»1å¼€å§‹
            for i in range(starty, n-offset): # ä»å·¦è‡³å³åˆ°å³è¾¹å€’æ•°ç¬¬äºŒä¸ªç‚¹ï¼Œå·¦é—­å³å¼€
                nums[startx][i] = count
                count += 1
            for i in range(startx, n-offset): # ä»ä¸Šè‡³ä¸‹
                nums[i][n-offset] = count
                count += 1
            for i in range(n-offset, startx, -1): # ä»å³è‡³å·¦
                nums[n-offset][i] = count
                count += 1
            for i in range(n-offset, starty, -1): # ä»ä¸‹è‡³ä¸Š
                nums[i][starty] = count
                count += 1
            startx += 1 # æ›´æ–°èµ·å§‹ç‚¹
            starty += 1

        if n % 2 != 0: # nä¸ºå¥‡æ•°æ—¶ï¼Œå¡«å……ä¸­å¿ƒç‚¹
            nums[mid][mid]= count
        
        return nums
```



---
